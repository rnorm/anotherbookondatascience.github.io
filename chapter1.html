<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Another Book on Data Science - Introduction to R/Python Programming</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link rel="stylesheet" href="bootstrap-1.1.0.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="small-screens.css">
    <link rel="stylesheet" href="vs.css">
    <link rel="stylesheet" href="code.css">
    <link rel="stylesheet" href="application.css">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-142297640-1', 'anotherbookondatascience.com');
      ga('send', 'pageview');

    </script>
  </head>

  <body>

    <div class="topbar">
      <div class="fill">
        <div class="container-fluid fixed">
          <h3><a href="index.html">Introduction to R/Python Programming</a></h3>
          <ul class="nav secondary-nav">
            
            
              <li><a href="chapter2.html">Next&raquo;</a></li>
            
          </ul>

        </div>
      </div>
    </div>

    <div class="container-fluid" style="padding-top: 60px;">
      <p>Sections in this Chapter:</p>
<ul>
	<li><a href="#calculator">calculator</a></li>
	<li><a href="#variable">variable &amp; type</a></li>
	<li><a href="#functions">functions</a></li>
	<li><a href="#control">control flows</a></li>
	<li><a href="#builtindata">some built-in data structures</a></li>
	<li><a href="$oop">Object-oriented programming (<span class="caps">OOP</span>) in R/Python</a></li>
	<li><a href="$miscellaneous">Miscellaneous</a></li>
</ul>
<h2 id="calculator">Calculator</h2>
<p>R and Python are general-purpose programming languages that can be used for writing softwares in a variety of domains. But for now, let us start from using them as basic calculators. The first thing is to have them installed. R<sup class="footnote" id="fnr1"><a href="#fn1">1</a></sup> and Python<sup class="footnote" id="fnr2"><a href="#fn2">2</a></sup> can be downloaded from their official website. In this book, I would keep using R 3.5 and Python 3.7.</p>
<p>To use R/Python as basic calculators, let&#8217;s get familiar with the interactive mode. After the installation, we can type R or Python (it is case insensitive so we can also type r/python) to invoke the interactive mode. Since Python 2 is installed by default on many machines, in order to avoid invoking Python 2 we type python3.7 instead.</p>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">~</span> <span class="o">$</span>R
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span>R version <span class="m">3.5.1</span> <span class="p">(</span><span class="m">2018-07-02</span><span class="p">)</span> <span class="o">--</span> <span class="s">&quot;Feather Spray&quot;</span>
<span class="lineno"> 4 </span>Copyright <span class="p">(</span>C<span class="p">)</span> <span class="m">2018</span> The R Foundation <span class="kr">for</span> Statistical Computing
<span class="lineno"> 5 </span>Platform<span class="o">:</span> x86_64<span class="o">-</span>apple<span class="o">-</span>darwin15.6.0 <span class="p">(</span><span class="m">64</span><span class="o">-</span>bit<span class="p">)</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>R is free software and comes with ABSOLUTELY NO WARRANTY.
<span class="lineno"> 8 </span>You are welcome to redistribute it under certain conditions.
<span class="lineno"> 9 </span>Type <span class="s">&#39;license()&#39;</span> or <span class="s">&#39;licence()&#39;</span> <span class="kr">for</span> distribution details.
<span class="lineno">10 </span>
<span class="lineno">11 </span>  Natural language support but running <span class="kr">in</span> an English locale
<span class="lineno">12 </span>
<span class="lineno">13 </span>R is a collaborative project with many contributors.
<span class="lineno">14 </span>Type <span class="s">&#39;contributors()&#39;</span> <span class="kr">for</span> more information and
<span class="lineno">15 </span><span class="s">&#39;citation()&#39;</span> on how to cite R or R packages <span class="kr">in</span> publications.
<span class="lineno">16 </span>
<span class="lineno">17 </span>Type <span class="s">&#39;demo()&#39;</span> <span class="kr">for</span> some demos<span class="p">,</span> <span class="s">&#39;help()&#39;</span> <span class="kr">for</span> on<span class="o">-</span>line help<span class="p">,</span> or
<span class="lineno">18 </span><span class="s">&#39;help.start()&#39;</span> <span class="kr">for</span> an HTML browser interface to help.
<span class="lineno">19 </span>Type <span class="s">&#39;q()&#39;</span> to quit R.
<span class="lineno">20 </span>
<span class="lineno">21 </span><span class="o">&gt;</span> </code></pre></figure><language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">~</span> <span class="err">$</span><span class="n">python3</span><span class="o">.</span><span class="mi">7</span>
<span class="lineno">2 </span><span class="n">Python</span> <span class="mf">3.7</span><span class="o">.</span><span class="mi">1</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Nov</span>  <span class="mi">6</span> <span class="mi">2018</span><span class="p">,</span> <span class="mi">18</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">35</span><span class="p">)</span> 
<span class="lineno">3 </span><span class="p">[</span><span class="n">Clang</span> <span class="mf">10.0</span><span class="o">.</span><span class="mi">0</span> <span class="p">(</span><span class="n">clang</span><span class="o">-</span><span class="mf">1000.11</span><span class="o">.</span><span class="mf">45.5</span><span class="p">)]</span> <span class="n">on</span> <span class="n">darwin</span>
<span class="lineno">4 </span><span class="n">Type</span> <span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="s2">&quot;copyright&quot;</span><span class="p">,</span> <span class="s2">&quot;credits&quot;</span> <span class="ow">or</span> <span class="s2">&quot;license&quot;</span> <span class="k">for</span> <span class="n">more</span> <span class="n">information</span><span class="o">.</span>
<span class="lineno">5 </span><span class="o">&gt;&gt;&gt;</span> </code></pre></figure><p>The messages displayed by invoking the interactive mode depend on both the version of R/Python installed and the machine. Thus, you may see different messages on your local machine.</p>
<p>As the messages said, to quit R we can type <code>q()</code>. There are 3 options prompted by asking the user if the workspace should be saved or not. Since we just want to use R as a basic calculator, we quit without saving workspace.</p>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> <span class="kp">q</span><span class="p">()</span>
<span class="lineno">2 </span>Save workspace image<span class="o">?</span> <span class="p">[</span>y<span class="o">/</span>n<span class="o">/</span><span class="kt">c</span><span class="p">]</span><span class="o">:</span> n
<span class="lineno">3 </span><span class="o">~</span> <span class="o">$</span></code></pre></figure><p>To quit Python, we can simply type <code>exit()</code>.</p>
<p>Once we are inside the interactive mode, we can use R/Python as a calculator.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> <span class="m">1+1</span>
<span class="lineno">2 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span>
<span class="lineno">3 </span><span class="o">&gt;</span> <span class="m">2</span><span class="o">*</span><span class="m">3+5</span>
<span class="lineno">4 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">11</span>
<span class="lineno">5 </span><span class="o">&gt;</span> <span class="kp">log</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
<span class="lineno">6 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">0.6931472</span>
<span class="lineno">7 </span><span class="o">&gt;</span> <span class="kp">exp</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>
<span class="lineno">8 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span><span class="o">+</span><span class="mi">1</span>
<span class="lineno"> 2 </span><span class="mi">2</span>
<span class="lineno"> 3 </span><span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="o">+</span><span class="mi">5</span>
<span class="lineno"> 4 </span><span class="mi">11</span>
<span class="lineno"> 5 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="lineno"> 6 </span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="lineno"> 7 </span>  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="lineno"> 8 </span><span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;log&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
<span class="lineno"> 9 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">exp</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="lineno">10 </span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="lineno">11 </span>  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="lineno">12 </span><span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;exp&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span></code></pre></figure></div>
</div>
<p>From the code snippet above, R is working as a calculator perfectly. However, errors are raised when we call <code>log(2)</code> and <code>exp(2)</code> in Python. The error messages are self-explanatory &#8211; <code>log</code> function and <code>exp</code> function don&#8217;t exist in the current Python environment. In fact, <code>log</code> function and <code>exp</code> function are defined in the <code>math</code> module in Python. A module<sup class="footnote" id="fnr3"><a href="#fn3">3</a></sup> is a file consisting of Python code. When we invoke the interactive mode of Python, a few built-in modules are loaded into the current environment by default. But the <code>math</code> module is not included in these built-in modules. That explains why we got the <code>NameError</code> when we try to use the functions defined in the <code>math</code> module. To resolve the issue, we should first load the functions to use by using the <code>import</code> statement as follows.</p>
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">math</span> <span class="k">import</span> <span class="n">log</span><span class="p">,</span><span class="n">exp</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="lineno">3 </span><span class="mf">0.6931471805599453</span>
<span class="lineno">4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">exp</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="lineno">5 </span><span class="mf">1.0</span></code></pre></figure><h2 id="variable">Variable &amp; Type</h2>
<p>In the previous section we have seen how to use R/Python as calculators. Now, let&#8217;s see how to write real programs. First, let&#8217;s define some variables.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> a<span class="o">=</span><span class="m">2</span>
<span class="lineno"> 2 </span><span class="o">&gt;</span> b<span class="o">=</span><span class="m">5.0</span>
<span class="lineno"> 3 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="s">&#39;hello world&#39;</span>
<span class="lineno"> 4 </span><span class="o">&gt;</span> a
<span class="lineno"> 5 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span>
<span class="lineno"> 6 </span><span class="o">&gt;</span> b
<span class="lineno"> 7 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">5</span>
<span class="lineno"> 8 </span><span class="o">&gt;</span> x
<span class="lineno"> 9 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;hello world&quot;</span>
<span class="lineno">10 </span><span class="o">&gt;</span> e<span class="o">=</span>a<span class="o">*</span><span class="m">2</span><span class="o">+</span>b
<span class="lineno">11 </span><span class="o">&gt;</span> e
<span class="lineno">12 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">9</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span><span class="o">=</span><span class="mi">2</span>
<span class="lineno"> 2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">b</span><span class="o">=</span><span class="mf">5.0</span>
<span class="lineno"> 3 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;hello world&#39;</span>
<span class="lineno"> 4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">a</span>
<span class="lineno"> 5 </span><span class="mi">2</span>
<span class="lineno"> 6 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">b</span>
<span class="lineno"> 7 </span><span class="mf">5.0</span>
<span class="lineno"> 8 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno"> 9 </span><span class="s1">&#39;hello world&#39;</span>
<span class="lineno">10 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">e</span><span class="o">=</span><span class="n">a</span><span class="o">*</span><span class="mi">2</span><span class="o">+</span><span class="n">b</span>
<span class="lineno">11 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">e</span>
<span class="lineno">12 </span><span class="mf">9.0</span></code></pre></figure></div>
</div>
<p>Here, we defined 4 different variables <code>a, b, x, e</code>. To get the type of each variable, we can utilize the function <code>typeof()</code> in R and <code>type()</code> in Python, respectively.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> <span class="kp">typeof</span><span class="p">(</span>x<span class="p">)</span>
<span class="lineno">2 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;character&quot;</span>
<span class="lineno">3 </span><span class="o">&gt;</span> <span class="kp">typeof</span><span class="p">(</span>e<span class="p">)</span>
<span class="lineno">4 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;double&quot;</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">str</span><span class="s1">&#39;&gt;</span>
<span class="lineno">3 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="lineno">4 </span><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">float</span><span class="s1">&#39;&gt;</span></code></pre></figure></div>
</div>
<p>The type of <code>x</code> in R is called character, and in Python is called str.</p>
<h2 id="functions">Functions</h2>
<p>We have seen two functions <code>log</code> and <code>exp</code> when we use R/Python as calculators. A function is a block of code which performs a specific task. A major purpose of wrapping a block of code into a function is to reuse the code.</p>
<p>It is simple to define functions in R/Python.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> fun1<span class="o">=</span><span class="kr">function</span><span class="p">(</span>x<span class="p">){</span><span class="kr">return</span><span class="p">(</span>x<span class="o">*</span>x<span class="p">)}</span>
<span class="lineno">2 </span><span class="o">&gt;</span> fun1
<span class="lineno">3 </span><span class="kr">function</span><span class="p">(</span>x<span class="p">){</span><span class="kr">return</span><span class="p">(</span>x<span class="o">*</span>x<span class="p">)}</span>
<span class="lineno">4 </span><span class="o">&gt;</span> fun1<span class="p">(</span><span class="m">2</span><span class="p">)</span>
<span class="lineno">5 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">4</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">fun1</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="lineno">2 </span><span class="o">...</span>   <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="c1"># note the indentation</span>
<span class="lineno">3 </span><span class="o">...</span> 
<span class="lineno">4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">fun1</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="lineno">5 </span><span class="mi">4</span></code></pre></figure></div>
</div>
<p>Here, we defined a function <code>fun1</code> in R/Python. This function takes <code>x</code> as input and returns the square of <code>x</code>. When we call a function, we simply type the function name followed by the input argument inside a pair of parentheses. It is worth noting that input or output are not required to define a function. For example, we can define a function <code>fun2</code> to print <code>Hello World!</code> without input and output.</p>
<p>One major difference between R and Python codes is that Python codes are structured with indentation. Each logical line of R/Python code belongs to a certain group. In R, we use <code>{}</code> to determine the grouping of statements. However, in Python we use leading whitespace (spaces and tabs) at the beginning of a logical line to compute the indentation level of the line, which is used to determine the statements&#8217; grouping. Let&#8217;s see what happens if we remove the leading whitespace in the Python function above.</p>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">fun1</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="lineno">2 </span><span class="o">...</span> <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="c1"># note the indentation</span>
<span class="lineno">3 </span>  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">2</span>
<span class="lineno">4 </span>    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="c1"># note the indentation</span>
<span class="lineno">5 </span>         <span class="o">^</span>
<span class="lineno">6 </span><span class="ne">IndentationError</span><span class="p">:</span> <span class="n">expected</span> <span class="n">an</span> <span class="n">indented</span> <span class="n">block</span></code></pre></figure><p>We got an <code>IndentationError</code> because of missing indentation.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> fun2<span class="o">=</span><span class="kr">function</span><span class="p">(){</span><span class="kp">print</span><span class="p">(</span><span class="s">&#39;Hello World!&#39;</span><span class="p">)}</span>
<span class="lineno">2 </span><span class="o">&gt;</span> fun2<span class="p">()</span>
<span class="lineno">3 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;Hello World!&quot;</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">fun2</span><span class="p">():</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Hello World!&#39;</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">...</span> 
<span class="lineno">3 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">fun2</span><span class="p">()</span>
<span class="lineno">4 </span><span class="n">Hello</span> <span class="n">World</span><span class="err">!</span>\<span class="n">end</span><span class="p">{</span><span class="n">python</span><span class="p">}</span></code></pre></figure></div>
</div>
<p>Let&#8217;s go back to <code>fun1</code> and have a closer look at the <code>return</code>. In Python, if we want to return something we have to use the keyword <code>return</code> explicitly. <code>return</code> in R is a function but it is not a function in Python and that is why no parenthesis follows <code>return</code> in Python. In R, <code>return</code> is not required even though we need to return something from the function. Instead, we can just put the variables to return in the last line of the function defined in R. That being said, we can define <code>fun1</code> as follows.</p>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> fun1<span class="o">=</span><span class="kr">function</span><span class="p">(</span>x<span class="p">){</span>x<span class="o">*</span>x<span class="p">}</span></code></pre></figure><h2 id="control">Control flows</h2>
<p>To implement a complex logic in R/Python, we may need control flows.</p>
<h3>If/else</h3>
<p>Let&#8217;s define a function to return the absolute value of input.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> fun3<span class="o">=</span><span class="kr">function</span><span class="p">(</span>x<span class="p">){</span>
<span class="lineno"> 2 </span><span class="o">+</span>   <span class="kr">if</span> <span class="p">(</span>x<span class="o">&gt;=</span><span class="m">0</span><span class="p">){</span>
<span class="lineno"> 3 </span><span class="o">+</span>     <span class="kr">return</span><span class="p">(</span>x<span class="p">)}</span>
<span class="lineno"> 4 </span><span class="o">+</span>   <span class="kp">else</span><span class="p">{</span>
<span class="lineno"> 5 </span><span class="o">+</span>     <span class="kr">return</span><span class="p">(</span><span class="o">-</span>x<span class="p">)}</span>
<span class="lineno"> 6 </span><span class="o">+</span> <span class="p">}</span>
<span class="lineno"> 7 </span><span class="o">&gt;</span> fun3<span class="p">(</span><span class="m">2.5</span><span class="p">)</span>
<span class="lineno"> 8 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2.5</span>
<span class="lineno"> 9 </span><span class="o">&gt;</span> fun3<span class="p">(</span><span class="m">-2.5</span><span class="p">)</span>
<span class="lineno">10 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2.5</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">fun3</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="lineno"> 2 </span><span class="o">...</span>   <span class="k">if</span> <span class="n">x</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">:</span>
<span class="lineno"> 3 </span><span class="o">...</span>     <span class="k">return</span> <span class="n">x</span>
<span class="lineno"> 4 </span><span class="o">...</span>   <span class="k">else</span><span class="p">:</span>
<span class="lineno"> 5 </span><span class="o">...</span>     <span class="k">return</span> <span class="o">-</span><span class="n">x</span>
<span class="lineno"> 6 </span><span class="o">...</span> 
<span class="lineno"> 7 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">fun3</span><span class="p">(</span><span class="mf">2.5</span><span class="p">)</span>
<span class="lineno"> 8 </span><span class="mf">2.5</span>
<span class="lineno"> 9 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">fun3</span><span class="p">(</span><span class="o">-</span><span class="mf">2.5</span><span class="p">)</span>
<span class="lineno">10 </span><span class="mf">2.5</span></code></pre></figure></div>
</div>
<p>The code snippet above shows how to use <code>if/else</code> in R/Python. The subtle difference between R and Python is that the condition after <code>if</code> must be embraced by parenthesis in R but it is optional in Python.</p>
<p>We can also put <code>if</code> after <code>else</code>. But in Python, we use <code>elif</code> as a shortcut.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> fun4<span class="o">=</span><span class="kr">function</span><span class="p">(</span>x<span class="p">){</span>
<span class="lineno"> 2 </span><span class="o">+</span>   <span class="kr">if</span> <span class="p">(</span>x<span class="o">==</span><span class="m">0</span><span class="p">){</span>
<span class="lineno"> 3 </span><span class="o">+</span>     <span class="kp">print</span><span class="p">(</span><span class="s">&#39;zero&#39;</span><span class="p">)}</span>
<span class="lineno"> 4 </span><span class="o">+</span>   <span class="kr">else</span> <span class="kr">if</span> <span class="p">(</span>x<span class="o">&gt;</span><span class="m">0</span><span class="p">){</span>
<span class="lineno"> 5 </span><span class="o">+</span>     <span class="kp">print</span><span class="p">(</span><span class="s">&#39;positive&#39;</span><span class="p">)}</span>
<span class="lineno"> 6 </span><span class="o">+</span>   <span class="kp">else</span><span class="p">{</span>
<span class="lineno"> 7 </span><span class="o">+</span>     <span class="kp">print</span><span class="p">(</span><span class="s">&#39;negative&#39;</span><span class="p">)}</span>
<span class="lineno"> 8 </span><span class="o">+</span> <span class="p">}</span>
<span class="lineno"> 9 </span><span class="o">&gt;</span> fun4<span class="p">(</span><span class="m">0</span><span class="p">)</span>
<span class="lineno">10 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;zero&quot;</span>
<span class="lineno">11 </span><span class="o">&gt;</span> fun4<span class="p">(</span><span class="m">1</span><span class="p">)</span>
<span class="lineno">12 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;positive&quot;</span>
<span class="lineno">13 </span><span class="o">&gt;</span> fun4<span class="p">(</span><span class="m">-1</span><span class="p">)</span>
<span class="lineno">14 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;negative&quot;</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">fun4</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="lineno"> 2 </span><span class="o">...</span>   <span class="k">if</span> <span class="n">x</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
<span class="lineno"> 3 </span><span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;zero&#39;</span><span class="p">)</span>
<span class="lineno"> 4 </span><span class="o">...</span>   <span class="k">elif</span> <span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
<span class="lineno"> 5 </span><span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;positive&#39;</span><span class="p">)</span>
<span class="lineno"> 6 </span><span class="o">...</span>   <span class="k">else</span><span class="p">:</span>
<span class="lineno"> 7 </span><span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;negative&#39;</span><span class="p">)</span>
<span class="lineno"> 8 </span><span class="o">...</span> 
<span class="lineno"> 9 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">fun4</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="lineno">10 </span><span class="n">zero</span>
<span class="lineno">11 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">fun4</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="lineno">12 </span><span class="n">positive</span>
<span class="lineno">13 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">fun4</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="lineno">14 </span><span class="n">negative</span></code></pre></figure></div>
</div>
<h3>For loop</h3>
<p>Similar to the usage of <code>if</code> in R, we also have to use parenthesis after the keyword <code>for</code> in R. But in Python there should be no parenthesis after <code>for</code>.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> <span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">){</span><span class="kp">print</span><span class="p">(</span>i<span class="p">)}</span>
<span class="lineno">2 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span>
<span class="lineno">3 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span>
<span class="lineno">4 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span><span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">...</span> 
<span class="lineno">3 </span><span class="mi">1</span>
<span class="lineno">4 </span><span class="mi">2</span>
<span class="lineno">5 </span><span class="mi">3</span></code></pre></figure></div>
</div>
<p>There is something more interesting than the <code>for loop</code> itself in the snippets above.<br />
In the R code, the expression <code>1:3</code> creates a vector with elements 1,2 and 3. In the Python code, we use the <code>range()</code> function for the first time. Let&#8217;s have a look at the type of them.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> <span class="kp">typeof</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">)</span>
<span class="lineno">2 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;integer&quot;</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="lineno">2 </span><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">range</span><span class="s1">&#39;&gt;</span></code></pre></figure></div>
</div>
<p><code>range()</code> function returns a <code>range</code> type object, which represents an immutable sequence of numbers. <code>range()</code> function can take three arguments, i.e., <br />
<code>range(start, stop, step)</code>. However, <code>start</code> and <code>step</code> are both optional. It&#8217;s critical to keep in mind that the <code>stop</code> argument that defines the upper limit of the sequence is exclusive. And that is why in order to loop through 1 to 3 we have to pass 4 as the <code>stop</code> argument to <code>range()</code> function. The <code>step</code> argument specifies how much to increase from one number to the next.<br />
The default values of <code>start</code> and <code>step</code> are 0 and 1, respectively.</p>
<h3>While loop</h3>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> i<span class="o">=</span><span class="m">1</span>
<span class="lineno">2 </span><span class="o">&gt;</span> <span class="kr">while</span> <span class="p">(</span>i<span class="o">&lt;=</span><span class="m">3</span><span class="p">){</span>
<span class="lineno">3 </span><span class="o">+</span>   <span class="kp">print</span><span class="p">(</span>i<span class="p">)</span>
<span class="lineno">4 </span><span class="o">+</span>   i<span class="o">=</span>i<span class="m">+1</span>
<span class="lineno">5 </span><span class="o">+</span> <span class="p">}</span>
<span class="lineno">6 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span>
<span class="lineno">7 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span>
<span class="lineno">8 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="n">i</span><span class="o">&lt;=</span><span class="mi">3</span><span class="p">:</span>
<span class="lineno">3 </span><span class="o">...</span>   <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="lineno">4 </span><span class="o">...</span>   <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
<span class="lineno">5 </span><span class="o">...</span> 
<span class="lineno">6 </span><span class="mi">1</span>
<span class="lineno">7 </span><span class="mi">2</span>
<span class="lineno">8 </span><span class="mi">3</span></code></pre></figure></div>
</div>
<p>You may have noticed that in Python we can do <code>i+=1</code> to add 1 to <code>i</code>, which is not feasible in R by default. Both for loop and while loop can be nested.</p>
<h3>Break/continue</h3>
<p>Break/continue helps if we want to break the for/while loop earlier, or to skip a specific iteration. In R, the keyword for continue is called <code>next</code>, in contrast to <code>continue</code> in Python. The difference between <code>break</code> and <code>continue</code> is that calling <code>break</code> would exit the innermost loop (when there are nested loops, only the innermost loop is affected); while calling <code>continue</code> would just skip the current iteration and continue the loop if not finished.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> <span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">){</span>
<span class="lineno"> 2 </span><span class="o">+</span>   <span class="kp">print</span><span class="p">(</span>i<span class="p">)</span>
<span class="lineno"> 3 </span><span class="o">+</span>   <span class="kr">if</span> <span class="p">(</span>i<span class="o">==</span><span class="m">1</span><span class="p">)</span> <span class="kr">break</span>
<span class="lineno"> 4 </span><span class="o">+</span> <span class="p">}</span>
<span class="lineno"> 5 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span>
<span class="lineno"> 6 </span><span class="o">&gt;</span> <span class="kr">for</span> <span class="p">(</span>i <span class="kr">in</span> <span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">){</span>
<span class="lineno"> 7 </span><span class="o">+</span>   <span class="kr">if</span> <span class="p">(</span>i<span class="o">==</span><span class="m">2</span><span class="p">){</span><span class="kr">next</span><span class="p">}</span>
<span class="lineno"> 8 </span><span class="o">+</span>   <span class="kp">print</span><span class="p">(</span>i<span class="p">)</span>
<span class="lineno"> 9 </span><span class="o">+</span> <span class="p">}</span>
<span class="lineno">10 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span>
<span class="lineno">11 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
<span class="lineno"> 2 </span><span class="o">...</span>   <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="lineno"> 3 </span><span class="o">...</span>   <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span> <span class="k">break</span>
<span class="lineno"> 4 </span><span class="o">...</span> 
<span class="lineno"> 5 </span><span class="mi">1</span>
<span class="lineno"> 6 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">):</span>
<span class="lineno"> 7 </span><span class="o">...</span>   <span class="k">if</span> <span class="n">i</span><span class="o">==</span><span class="mi">2</span><span class="p">:</span> <span class="k">continue</span>
<span class="lineno"> 8 </span><span class="o">...</span>   <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="lineno"> 9 </span><span class="o">...</span> 
<span class="lineno">10 </span><span class="mi">1</span>
<span class="lineno">11 </span><span class="mi">3</span></code></pre></figure></div>
</div>
<h2 id="builtindata">Some built-in Data Structures</h2>
<p>In the previous sections, we haven&#8217;t seen much difference between R and Python. However, regarding the built-in data structures, there are some significant differences we would see in this section.</p>
<h3>vector in R and list in Python</h3>
<p>In R, we can use function <code>c()</code> to create a vector; A vector is a sequence of elements with the same type. In Python, we can use <code>[]</code> to create a list, which is also a sequence of elements. But the elements in a list don&#8217;t need to have the same type. To get the number of elements in a vector in R, we use the function <code>length()</code>; and to get the number of elements in a list in Python, we use the function <code>len()</code>.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">)</span>
<span class="lineno"> 2 </span><span class="o">&gt;</span> y<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">,</span><span class="s">&#39;world&#39;</span><span class="p">,</span><span class="s">&#39;!&#39;</span><span class="p">)</span>
<span class="lineno"> 3 </span><span class="o">&gt;</span> x
<span class="lineno"> 4 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">5</span> <span class="m">6</span>
<span class="lineno"> 5 </span><span class="o">&gt;</span> y
<span class="lineno"> 6 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;hello&quot;</span> <span class="s">&quot;world&quot;</span> <span class="s">&quot;!&quot;</span>    
<span class="lineno"> 7 </span><span class="o">&gt;</span> <span class="kp">length</span><span class="p">(</span>x<span class="p">)</span>
<span class="lineno"> 8 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">4</span>
<span class="lineno"> 9 </span><span class="o">&gt;</span> z<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
<span class="lineno">10 </span><span class="o">&gt;</span> z
<span class="lineno">11 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;1&quot;</span>     <span class="s">&quot;hello&quot;</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="lineno"> 2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span><span class="s1">&#39;world&#39;</span><span class="p">,</span><span class="s1">&#39;!&#39;</span><span class="p">]</span>
<span class="lineno"> 3 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno"> 4 </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="lineno"> 5 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span>
<span class="lineno"> 6 </span><span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;!&#39;</span><span class="p">]</span>
<span class="lineno"> 7 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="lineno"> 8 </span><span class="mi">4</span>
<span class="lineno"> 9 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">z</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;hello&#39;</span><span class="p">]</span>
<span class="lineno">10 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">z</span>
<span class="lineno">11 </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">]</span></code></pre></figure></div>
</div>
<p>In the code snippet above, the first element in the variable <code>z</code> in R is coerced from 1 (numeric) to &#8220;1&#8221; (character) since the elements must have the same type.</p>
<p>To access a specific element from a vector or list, we could use <code>[]</code>. In R, sequence types are indexed beginning with the one subscript; In contrast, sequence types in Python are indexed beginning with the zero subscript.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="m">1</span><span class="p">]</span>
<span class="lineno">3 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="lineno">3 </span><span class="mi">2</span>
<span class="lineno">4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno">5 </span><span class="mi">1</span></code></pre></figure></div>
</div>
<p>What if the index to access is out of boundary?</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">)</span>
<span class="lineno"> 2 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="m">-1</span><span class="p">]</span>
<span class="lineno"> 3 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span> <span class="m">5</span> <span class="m">6</span>
<span class="lineno"> 4 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="m">0</span><span class="p">]</span>
<span class="lineno"> 5 </span><span class="kt">numeric</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>
<span class="lineno"> 6 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="kp">length</span><span class="p">(</span>x<span class="p">)</span><span class="m">+1</span><span class="p">]</span>
<span class="lineno"> 7 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="kc">NA</span>
<span class="lineno"> 8 </span><span class="o">&gt;</span> <span class="kp">length</span><span class="p">(</span><span class="kt">numeric</span><span class="p">(</span><span class="m">0</span><span class="p">))</span>
<span class="lineno"> 9 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">0</span>
<span class="lineno">10 </span><span class="o">&gt;</span> <span class="kp">length</span><span class="p">(</span><span class="kc">NA</span><span class="p">)</span>
<span class="lineno">11 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="lineno">3 </span><span class="mi">6</span>
<span class="lineno">4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
<span class="lineno">5 </span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="lineno">6 </span>  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="lineno">7 </span><span class="ne">IndexError</span><span class="p">:</span> <span class="nb">list</span> <span class="n">index</span> <span class="n">out</span> <span class="n">of</span> <span class="nb">range</span></code></pre></figure></div>
</div>
<p>In Python, negative index number means indexing from the end of the list. Thus, <code>x[-1]</code> points to the last element and <code>x[-2]</code> points to the second-last element of the list. But R doesn&#8217;t support indexing with negative number in the same way as Python. Specifically, in R <code>x[-index]</code> returns a new vector with <code>x[index]</code> excluded.</p>
<p>When we try to access with an index out of boundary, Python would throw an <code>IndexError</code>. The behavior of R when indexing out of boundary is more interesting. First, when we try to access <code>x[0]</code> in R we get a <code>numeric(0)</code> whose length is also 0. Since its length is 0, <code>numeric(0)</code> can be interpreted as an empty numeric vector. When we try to access <code>x[length(x)+1]</code> we get a <code>NA</code>. In R, there are also <code>NaN</code> and <code>NULL</code>.</p>
<p><code>NaN</code> means &#8220;Not A Number&#8221; and it can be verified by checking its type &#8211; &#8220;double&#8221;. <code>0/0</code> would result in a <code>NaN</code> in R. <code>NA</code> in R generally represents missing values. And <code>NULL</code> represents a <span class="caps">NULL</span> (empty) object. To check if a value is <code>NA</code>, <code>NaN</code> or <code>NULL</code>, we can use <code>is.na()</code>, <code>is.nan()</code> or <code>is.null</code>, respectively.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> <span class="kp">typeof</span><span class="p">(</span><span class="kc">NA</span><span class="p">)</span>
<span class="lineno"> 2 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;logical&quot;</span>
<span class="lineno"> 3 </span><span class="o">&gt;</span> <span class="kp">typeof</span><span class="p">(</span><span class="kc">NaN</span><span class="p">)</span>
<span class="lineno"> 4 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;double&quot;</span>
<span class="lineno"> 5 </span><span class="o">&gt;</span> <span class="kp">typeof</span><span class="p">(</span><span class="kc">NULL</span><span class="p">)</span>
<span class="lineno"> 6 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;NULL&quot;</span>
<span class="lineno"> 7 </span><span class="o">&gt;</span> <span class="kp">is.na</span><span class="p">(</span><span class="kc">NA</span><span class="p">)</span>
<span class="lineno"> 8 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="kc">TRUE</span>
<span class="lineno"> 9 </span><span class="o">&gt;</span> <span class="kp">is.null</span><span class="p">(</span><span class="kc">NULL</span><span class="p">)</span>
<span class="lineno">10 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="kc">TRUE</span>
<span class="lineno">11 </span><span class="o">&gt;</span> <span class="kp">is.nan</span><span class="p">(</span><span class="kc">NaN</span><span class="p">)</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">NoneType</span><span class="s1">&#39;&gt;</span>
<span class="lineno">3 </span><span class="o">&gt;&gt;&gt;</span> <span class="kc">None</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="lineno">4 </span><span class="kc">True</span>
<span class="lineno">5 </span><span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="o">==</span> <span class="kc">None</span>
<span class="lineno">6 </span><span class="kc">False</span></code></pre></figure></div>
</div>
<p>In Python, there is no built-in <code>NA</code> or <code>NaN</code>. The counterpart of <code>NULL</code> in Python is <code>None</code>. In Python, we can use the <code>is</code> keyword or == to check if a value is equal to <code>None</code>.</p>
<p>From the code snippet above, we also notice that in R the boolean type value is written as &#8220;<span class="caps">TRUE</span>/<span class="caps">FALSE</span>&#8221;, compared with &#8220;True/False&#8221; in Python. Although in R &#8220;<span class="caps">TRUE</span>/<span class="caps">FALSE</span>&#8221; can also be abbreviated as &#8220;T/F&#8221;, I don&#8217;t recommend to use the abbreviation.</p>
<p>There is one interesting fact that we can&#8217;t add a <code>NULL</code> to a vector in R, but it is feasible to add a <code>None</code> to a list in Python.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="kc">NA</span><span class="p">,</span><span class="kc">NaN</span><span class="p">,</span><span class="kc">NULL</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">&gt;</span> x
<span class="lineno">3 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span>   <span class="m">1</span>  <span class="kc">NA</span> <span class="kc">NaN</span>
<span class="lineno">4 </span><span class="o">&gt;</span> <span class="kp">length</span><span class="p">(</span>x<span class="p">)</span>
<span class="lineno">5 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="kc">None</span><span class="p">]</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno">3 </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
<span class="lineno">4 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="lineno">5 </span><span class="mi">2</span></code></pre></figure></div>
</div>
<p>Sometimes we want to create a vector/list with replicated elements, for example, a vector/list with all elements equal to 0.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kp">rep</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">&gt;</span> x
<span class="lineno">3 </span> <span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span> <span class="m">0</span>
<span class="lineno">4 </span><span class="o">&gt;</span> y<span class="o">=</span><span class="kp">rep</span><span class="p">(</span><span class="kt">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">),</span> <span class="m">5</span><span class="p">)</span>
<span class="lineno">5 </span><span class="o">&gt;</span> y
<span class="lineno">6 </span> <span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span> <span class="m">0</span> <span class="m">1</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno">3 </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="lineno">4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">5</span>
<span class="lineno">5 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span>
<span class="lineno">6 </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span></code></pre></figure></div>
</div>
<p>When we use the <code>*</code> operator to make replicates of a list, there is one caveat &#8211; if the element inside the list is mutable then the replicated elements point to the same memory address. As a consequence, if one element is mutated other elements are also affected.</p>
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># x is a list which is mutable</span>
<span class="lineno"> 2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">*</span><span class="mi">5</span> <span class="c1"># each element in y points to x</span>
<span class="lineno"> 3 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span>
<span class="lineno"> 4 </span><span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="lineno"> 5 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="mi">2</span> <span class="c1"># we point y[2] to 2 but x is not mutated</span>
<span class="lineno"> 6 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span>
<span class="lineno"> 7 </span><span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="lineno"> 8 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span> <span class="c1"># we mutate x by changing y[1][0] from 0 to -1</span>
<span class="lineno"> 9 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span>
<span class="lineno">10 </span><span class="p">[[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<span class="lineno">11 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno">12 </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span></code></pre></figure><p>How to get a list with replicated elements but pointing to different memory addresses?</p>
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="n">x</span><span class="p">[:]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span> <span class="c1"># [:] makes a copy of the list x; another solution is [list(x) for _ in range(5)]</span>
<span class="lineno">3 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span>
<span class="lineno">4 </span><span class="p">[[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="lineno">5 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mi">2</span>
<span class="lineno">6 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span>
<span class="lineno">7 </span><span class="p">[[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">]]</span></code></pre></figure><p>Beside accessing a specific element from a vector/list, we may also need to do slicing, i.e., to select a subset of the vector/list. There are two basic approaches of slicing:</p>
<ul>
	<li>Integer-based</li>
</ul>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="m">2</span><span class="o">:</span><span class="m">4</span><span class="p">]</span>
<span class="lineno">3 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span>
<span class="lineno">4 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">5</span><span class="p">)]</span> <span class="c1"># a vector of indices</span>
<span class="lineno">5 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">5</span>
<span class="lineno">6 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="kp">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">2</span><span class="p">)]</span> <span class="c1"># seq creates a vector to be used as indices</span>
<span class="lineno">7 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">3</span> <span class="m">5</span></code></pre></figure><language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="c1"># x[start:end] start is inclusive but end is exclusive</span>
<span class="lineno">3 </span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="lineno">4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># x[start:end:step]</span>
<span class="lineno">5 </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span></code></pre></figure><p>The code snippet above uses hash character <code>#</code> for comments in both R and Python. Everything after <code>#</code> on the same line would be treated as comment (not executable). In the R code, we also used the function <code>seq()</code> to create a vector. When I see a function that I haven&#8217;t seen before, I might either google it or use the builtin helper mechanism. Specifically, in R use <code>?</code> and in Python use <code>help()</code>.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> <span class="o">?</span><span class="kp">seq</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">help</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span></code></pre></figure></div>
</div>
<ul>
	<li>Condition-based</li>
</ul>
<p>Condition-based slicing means to select a subset of the elements which satisfy certain conditions. In R, it is quite straightforward by using a boolean vector whose length is the same as the vector to slice.</p>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">6</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">&gt;</span> x<span class="p">[</span>x <span class="o">%%</span> <span class="m">2</span><span class="o">==</span><span class="m">1</span><span class="p">]</span> <span class="c1"># %% is the modulo operator in R; we select the odd elements</span>
<span class="lineno">3 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">5</span> <span class="m">5</span>
<span class="lineno">4 </span><span class="o">&gt;</span> x <span class="o">%%</span> <span class="m">2</span><span class="o">==</span><span class="m">1</span> <span class="c1"># results in a boolean vector with the same length as x</span>
<span class="lineno">5 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span>  <span class="kc">TRUE</span> <span class="kc">FALSE</span>  <span class="kc">TRUE</span>  <span class="kc">TRUE</span> <span class="kc">FALSE</span> <span class="kc">FALSE</span> </code></pre></figure><p>The condition-based slicing in Python is quite different from that in R. The prerequisite is list comprehension which provides a concise way to create new lists in Python. For example, let&#8217;s create a list of squares of another list.</p>
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">e</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span> <span class="c1"># ** is the exponent operator, i.e., x**y means x to the power of y</span>
<span class="lineno">3 </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">36</span><span class="p">]</span></code></pre></figure><p>We can also use <code>if</code> statement with list comprehension to filter a list to achieve list slicing.</p>
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">if</span> <span class="n">e</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># % is the modulo operator in Python</span>
<span class="lineno">3 </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span></code></pre></figure><p>It is also common to use <code>if/else</code> with list comprehension to achieve more complex operations. For example, given a list x, let&#8217;s create a new list y so that the non-negative elements in x are squared and the negative elements are replaced by 0s.</p>
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">e</span><span class="o">**</span><span class="mi">2</span> <span class="k">if</span> <span class="n">e</span><span class="o">&gt;=</span><span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">x</span><span class="p">]</span>
<span class="lineno">3 </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span></code></pre></figure><p>The example above shows the power of list comprehension. To use <code>if</code> with list comprehension, the <code>if</code> statement should be placed in the end after the <code>for</code> loop statement; but to use <code>if/else</code> with list comprehension, the <code>if/else</code> statement should be placed before the <code>for</code> loop statement.</p>
<p>We can also modify the value of an element in a vector/list variable.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="m">-1</span>
<span class="lineno">3 </span><span class="o">&gt;</span> x
<span class="lineno">4 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">-1</span>  <span class="m">2</span>  <span class="m">3</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span>
<span class="lineno">3 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno">4 </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span></code></pre></figure></div>
</div>
<p>Although the vector structure in R and the list structure in Python looks similar regarding their usages and purposes, the implementation of these two structures are essentially different. The list structure in Python is mutable. A mutable object can be changed after it is created, but an immutable object can&#8217;t. However, the mutability of vector in R is a bit of complicated. If we change the value of an element in a vector without changing the type of the element, the vector is mutable. If we change an element to another type, the behavior of the vector is immutable. A variable itself is a reference or pointer to an object (usually stored in the machine&#8217;s memory). To check the mutability of a variable, we can trace the memory address.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">&gt;</span> <span class="kp">tracemem</span><span class="p">(</span>x<span class="p">)</span> <span class="c1"># print the memory address of x whenever the address changes</span>
<span class="lineno">3 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;&lt;0x7ff360c95c08&gt;&quot;</span>
<span class="lineno">4 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=-</span>x<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="c1"># type not changed, i.e., from integer to integer</span>
<span class="lineno">5 </span><span class="o">&gt;</span> <span class="kp">tracemem</span><span class="p">(</span>x<span class="p">)</span>
<span class="lineno">6 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;&lt;0x7ff360c95c08&gt;&quot;</span>
<span class="lineno">7 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="m">-1.0</span>
<span class="lineno">8 </span><span class="kp">tracemem</span><span class="p">[</span><span class="mh">0x7ff360c95c08</span> <span class="o">-&gt;</span> <span class="mh">0x7ff3604692d8</span><span class="p">]</span><span class="o">:</span> </code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1001</span><span class="p">))</span> <span class="c1"># list() convert a range object to a list</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">hex</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">x</span><span class="p">))</span> <span class="c1"># print the memory address of x</span>
<span class="lineno">3 </span><span class="s1">&#39;0x10592d908&#39;</span>
<span class="lineno">4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="mf">1.0</span> <span class="c1"># from integer to float</span>
<span class="lineno">5 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">hex</span><span class="p">(</span><span class="nb">id</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="lineno">6 </span><span class="s1">&#39;0x10592d908&#39;</span></code></pre></figure></div>
</div>
<p>From the code snippet above, in Python the memory address doesn&#8217;t change after we change the value of the first element because list in Python is mutable. When we try to modify the value of <code>x[1]</code> in R, the memory address of <code>x</code> doesn&#8217;t change. (you probably would see different addresses on your machine). But when we change the value of <code>x[1]</code> from the integer type to a double type, the memory address got changed. It&#8217;s worth noting since R 3.5 arithmetic sequences created by <code>1:n, seq_along</code>, and the like now use compact internal representations via the <span class="caps">ALTREP</span> framework<sup class="footnote" id="fnr4"><a href="#fn4">4</a></sup>. Let&#8217;s the example below.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">3</span>
<span class="lineno">2 </span><span class="o">&gt;</span> <span class="kp">tracemem</span><span class="p">(</span>x<span class="p">)</span>
<span class="lineno">3 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;&lt;0x7f828e84c110&gt;&quot;</span>
<span class="lineno">4 </span><span class="o">&gt;</span> <span class="m">.</span>Internal<span class="p">(</span>inspect<span class="p">(</span>x<span class="p">))</span>
<span class="lineno">5 </span><span class="o">@</span><span class="m">7</span>f828e84c110 <span class="m">13</span> INTSXP g0c0 <span class="p">[</span>NAM<span class="p">(</span><span class="m">3</span><span class="p">),</span>TR<span class="p">]</span>  <span class="m">1</span> <span class="o">:</span> <span class="m">3</span> <span class="p">(</span>compact<span class="p">)</span>
<span class="lineno">6 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="m">2L</span>
<span class="lineno">7 </span><span class="kp">tracemem</span><span class="p">[</span><span class="mh">0x7f828e84c110</span> <span class="o">-&gt;</span> <span class="mh">0x7f828fe49848</span><span class="p">]</span><span class="o">:</span> </code></pre></figure></div>
<div class="coderight">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">&gt;</span> <span class="kp">tracemem</span><span class="p">(</span>x<span class="p">)</span>
<span class="lineno">3 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;&lt;0x7f828fe498c8&gt;&quot;</span>
<span class="lineno">4 </span><span class="o">&gt;</span> <span class="m">.</span>Internal<span class="p">(</span>inspect<span class="p">(</span>x<span class="p">))</span>
<span class="lineno">5 </span><span class="o">@</span><span class="m">7</span>f828fe498c8 <span class="m">13</span> INTSXP g0c2 <span class="p">[</span>NAM<span class="p">(</span><span class="m">1</span><span class="p">),</span>TR<span class="p">]</span> <span class="p">(</span>len<span class="o">=</span><span class="m">3</span><span class="p">,</span> tl<span class="o">=</span><span class="m">0</span><span class="p">)</span> <span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span>
<span class="lineno">6 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="m">2L</span>
<span class="lineno">7 </span><span class="o">&gt;</span> <span class="kp">tracemem</span><span class="p">(</span>x<span class="p">)</span>
<span class="lineno">8 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;&lt;0x7f828fe498c8&gt;&quot;</span></code></pre></figure></div>
</div>
<p>Two or multiple vectors/lists can be concatenated easily.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">)</span>
<span class="lineno">2 </span><span class="o">&gt;</span> y<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">)</span>
<span class="lineno">3 </span><span class="o">&gt;</span> z<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">8</span><span class="p">)</span>
<span class="lineno">4 </span><span class="o">&gt;</span> <span class="kt">c</span><span class="p">(</span>x<span class="p">,</span>y<span class="p">,</span>z<span class="p">)</span>
<span class="lineno">5 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span> <span class="m">2</span> <span class="m">3</span> <span class="m">4</span> <span class="m">5</span> <span class="m">6</span> <span class="m">7</span> <span class="m">8</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="lineno">3 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">z</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>
<span class="lineno">4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">z</span>
<span class="lineno">5 </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">]</span></code></pre></figure></div>
</div>
<p>As the list structure in Python is mutable, there are many things we can do with list.</p>
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="lineno"> 2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># append a single value to the list x</span>
<span class="lineno"> 3 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno"> 4 </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="lineno"> 5 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="lineno"> 6 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="c1"># extend list y to x</span>
<span class="lineno"> 7 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno"> 8 </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="lineno"> 9 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">last</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span> <span class="c1"># pop the last elememt from x</span>
<span class="lineno">10 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">last</span>
<span class="lineno">11 </span><span class="mi">6</span>
<span class="lineno">12 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno">13 </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span></code></pre></figure><p>Is there any immutable data structure in Python? Yes, for example tuple is immutable, which contains a sequence of elements. The element accessing and subset slicing of tuple is following the same rules of list in Python.</p>
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,)</span> <span class="c1"># use () to create a tuple in Python, it is better to always put a comma in the end</span>
<span class="lineno"> 2 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="lineno"> 3 </span><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">tuple</span><span class="s1">&#39;&gt;</span>
<span class="lineno"> 4 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="lineno"> 5 </span><span class="mi">3</span>
<span class="lineno"> 6 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno"> 7 </span><span class="mi">1</span>
<span class="lineno"> 8 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span>
<span class="lineno"> 9 </span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="lineno">10 </span>  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="lineno">11 </span><span class="ne">TypeError</span><span class="p">:</span> <span class="s1">&#39;tuple&#39;</span> <span class="nb">object</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">support</span> <span class="n">item</span> <span class="n">assignment</span></code></pre></figure><p>I like the list structure in Python much more than the vector structure in R. list in Python has a lot more useful features which can be found from the python official documentation<sup class="footnote" id="fnr5"><a href="#fn5">5</a></sup>.</p>
<h3>array</h3>
<p>Array is one of the most important data structures in scientific programming. In R, there is also an object type &#8220;matrix&#8221;, but according to my own experience, we can almost ignore its existence and use array instead. We can definitely use list as array in Python, but lots of linear algebra operations are not supported for the list type. Fortunately, there is a Python package <code>numpy</code> off the shelf.</p>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">12</span>
<span class="lineno"> 2 </span><span class="o">&gt;</span> array1<span class="o">=</span><span class="kt">array</span><span class="p">(</span>x<span class="p">,</span><span class="kt">c</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">3</span><span class="p">))</span> <span class="c1"># convert vector x to a 4 rows * 3 cols array</span>
<span class="lineno"> 3 </span><span class="o">&gt;</span> array1
<span class="lineno"> 4 </span>     <span class="p">[,</span><span class="m">1</span><span class="p">]</span> <span class="p">[,</span><span class="m">2</span><span class="p">]</span> <span class="p">[,</span><span class="m">3</span><span class="p">]</span>
<span class="lineno"> 5 </span><span class="p">[</span><span class="m">1</span><span class="p">,]</span>    <span class="m">1</span>    <span class="m">5</span>    <span class="m">9</span>
<span class="lineno"> 6 </span><span class="p">[</span><span class="m">2</span><span class="p">,]</span>    <span class="m">2</span>    <span class="m">6</span>   <span class="m">10</span>
<span class="lineno"> 7 </span><span class="p">[</span><span class="m">3</span><span class="p">,]</span>    <span class="m">3</span>    <span class="m">7</span>   <span class="m">11</span>
<span class="lineno"> 8 </span><span class="p">[</span><span class="m">4</span><span class="p">,]</span>    <span class="m">4</span>    <span class="m">8</span>   <span class="m">12</span>
<span class="lineno"> 9 </span><span class="o">&gt;</span> y<span class="o">=</span><span class="m">1</span><span class="o">:</span><span class="m">6</span>
<span class="lineno">10 </span><span class="o">&gt;</span> array2<span class="o">=</span><span class="kt">array</span><span class="p">(</span>y<span class="p">,</span><span class="kt">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">2</span><span class="p">))</span> <span class="c1"># convert vector y to a 3 rows * 2 cols array</span>
<span class="lineno">11 </span><span class="o">&gt;</span> array2
<span class="lineno">12 </span>     <span class="p">[,</span><span class="m">1</span><span class="p">]</span> <span class="p">[,</span><span class="m">2</span><span class="p">]</span>
<span class="lineno">13 </span><span class="p">[</span><span class="m">1</span><span class="p">,]</span>    <span class="m">1</span>    <span class="m">4</span>
<span class="lineno">14 </span><span class="p">[</span><span class="m">2</span><span class="p">,]</span>    <span class="m">2</span>    <span class="m">5</span>
<span class="lineno">15 </span><span class="p">[</span><span class="m">3</span><span class="p">,]</span>    <span class="m">3</span>    <span class="m">6</span>
<span class="lineno">16 </span><span class="o">&gt;</span> array3 <span class="o">=</span> array1 <span class="o">%*%</span> array2 <span class="c1"># %*% is the matrix multiplication operator</span>
<span class="lineno">17 </span><span class="o">&gt;</span> array3
<span class="lineno">18 </span>     <span class="p">[,</span><span class="m">1</span><span class="p">]</span> <span class="p">[,</span><span class="m">2</span><span class="p">]</span>
<span class="lineno">19 </span><span class="p">[</span><span class="m">1</span><span class="p">,]</span>   <span class="m">38</span>   <span class="m">83</span>
<span class="lineno">20 </span><span class="p">[</span><span class="m">2</span><span class="p">,]</span>   <span class="m">44</span>   <span class="m">98</span>
<span class="lineno">21 </span><span class="p">[</span><span class="m">3</span><span class="p">,]</span>   <span class="m">50</span>  <span class="m">113</span>
<span class="lineno">22 </span><span class="p">[</span><span class="m">4</span><span class="p">,]</span>   <span class="m">56</span>  <span class="m">128</span>
<span class="lineno">23 </span><span class="o">&gt;</span> <span class="kp">dim</span><span class="p">(</span>array3<span class="p">)</span> <span class="c1"># get the dimension of array3</span>
<span class="lineno">24 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">4</span> <span class="m">2</span></code></pre></figure><language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> <span class="c1"># we import the numpy module and alias it as np</span>
<span class="lineno"> 2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">array1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">13</span><span class="p">)),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span> <span class="c1"># convert a list to a 2d np.array</span>
<span class="lineno"> 3 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">array1</span>
<span class="lineno"> 4 </span><span class="n">array</span><span class="p">([[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">2</span><span class="p">,</span>  <span class="mi">3</span><span class="p">],</span>
<span class="lineno"> 5 </span>       <span class="p">[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">6</span><span class="p">],</span>
<span class="lineno"> 6 </span>       <span class="p">[</span> <span class="mi">7</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span>  <span class="mi">9</span><span class="p">],</span>
<span class="lineno"> 7 </span>       <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">]])</span>
<span class="lineno"> 8 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="n">array1</span><span class="p">)</span>
<span class="lineno"> 9 </span><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">numpy</span><span class="o">.</span><span class="n">ndarray</span><span class="s1">&#39;&gt;</span>
<span class="lineno">10 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">array2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="lineno">11 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">array2</span>
<span class="lineno">12 </span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="lineno">13 </span>       <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="lineno">14 </span>       <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="lineno">15 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">array3</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">array1</span><span class="p">,</span><span class="n">array2</span><span class="p">)</span> <span class="c1"># matrix multiplication using np.dot()</span>
<span class="lineno">16 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">array3</span>
<span class="lineno">17 </span><span class="n">array</span><span class="p">([[</span> <span class="mi">22</span><span class="p">,</span>  <span class="mi">28</span><span class="p">],</span>
<span class="lineno">18 </span>       <span class="p">[</span> <span class="mi">49</span><span class="p">,</span>  <span class="mi">64</span><span class="p">],</span>
<span class="lineno">19 </span>       <span class="p">[</span> <span class="mi">76</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span>
<span class="lineno">20 </span>       <span class="p">[</span><span class="mi">103</span><span class="p">,</span> <span class="mi">136</span><span class="p">]])</span>
<span class="lineno">21 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">array3</span><span class="o">.</span><span class="n">shape</span> <span class="c1"># get the shape(dimension) of array3</span>
<span class="lineno">22 </span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span></code></pre></figure><p>You may have noticed that the results of the R code snippet and Python code snippet are different. The reason is that in R the conversion from a vector to an array is by-column; but in <code>numpy</code> the reshape from a list to an 2D <code>numpy.array</code> is by-row. There are two ways to reshape a list to a 2D numpy.array by column.</p>
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">array1</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">13</span><span class="p">)),(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">order</span><span class="o">=</span><span class="s1">&#39;F&#39;</span><span class="p">)</span> <span class="c1"># use order=&#39;F&#39;</span>
<span class="lineno"> 2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">array1</span>
<span class="lineno"> 3 </span><span class="n">array</span><span class="p">([[</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span>  <span class="mi">9</span><span class="p">],</span>
<span class="lineno"> 4 </span>       <span class="p">[</span> <span class="mi">2</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
<span class="lineno"> 5 </span>       <span class="p">[</span> <span class="mi">3</span><span class="p">,</span>  <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">],</span>
<span class="lineno"> 6 </span>       <span class="p">[</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">8</span><span class="p">,</span> <span class="mi">12</span><span class="p">]])</span>
<span class="lineno"> 7 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">array2</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">7</span><span class="p">)),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">T</span> <span class="c1"># use .T to transpose an array</span>
<span class="lineno"> 8 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">array2</span>
<span class="lineno"> 9 </span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="lineno">10 </span>       <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
<span class="lineno">11 </span>       <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="lineno">12 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">array1</span><span class="p">,</span><span class="n">array2</span><span class="p">)</span> <span class="c1"># now we get the same result as using R</span>
<span class="lineno">13 </span><span class="n">array</span><span class="p">([[</span> <span class="mi">38</span><span class="p">,</span>  <span class="mi">83</span><span class="p">],</span>
<span class="lineno">14 </span>       <span class="p">[</span> <span class="mi">44</span><span class="p">,</span>  <span class="mi">98</span><span class="p">],</span>
<span class="lineno">15 </span>       <span class="p">[</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">113</span><span class="p">],</span>
<span class="lineno">16 </span>       <span class="p">[</span> <span class="mi">56</span><span class="p">,</span> <span class="mi">128</span><span class="p">]])</span></code></pre></figure><p>To learn more about numpy, the official website<sup class="footnote" id="fnr6"><a href="#fn6">6</a></sup> has great documentation/tutorials.</p>
<h3>list in R and dictionary in Python</h3>
<p>Yes, in R there is also an object type called list. The major difference between a vector and a list in R is that a list could contain different types of elements. list in R supports integer-based accessing using <code>[[]]</code> (compared to <code>[]</code> for vector).</p>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">list</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="s">&#39;hello world!&#39;</span><span class="p">)</span>
<span class="lineno"> 2 </span><span class="o">&gt;</span> x
<span class="lineno"> 3 </span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span>
<span class="lineno"> 4 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span>
<span class="lineno"> 5 </span>
<span class="lineno"> 6 </span><span class="p">[[</span><span class="m">2</span><span class="p">]]</span>
<span class="lineno"> 7 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;hello world!&quot;</span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span><span class="o">&gt;</span> x<span class="p">[[</span><span class="m">1</span><span class="p">]]</span>
<span class="lineno">10 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span>
<span class="lineno">11 </span><span class="o">&gt;</span> x<span class="p">[[</span><span class="m">2</span><span class="p">]]</span>
<span class="lineno">12 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;hello world!&quot;</span>
<span class="lineno">13 </span><span class="o">&gt;</span> <span class="kp">length</span><span class="p">(</span>x<span class="p">)</span>
<span class="lineno">14 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span></code></pre></figure><p>The mutability of the list structure in R is similar to the vector structure. The difference is that when we change the type of an element in a list, the memory address doesn&#8217;t change in general.</p>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">list</span><span class="p">(</span><span class="kt">c</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">),</span><span class="s">&#39;Hello World!&#39;</span><span class="p">)</span>
<span class="lineno"> 2 </span><span class="o">&gt;</span> <span class="kp">tracemem</span><span class="p">(</span>x<span class="p">)</span>
<span class="lineno"> 3 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;&lt;0x7f828fe497c8&gt;&quot;</span>
<span class="lineno"> 4 </span><span class="o">&gt;</span> x<span class="p">[[</span><span class="m">1</span><span class="p">]]</span><span class="o">=</span><span class="m">1.0</span>
<span class="lineno"> 5 </span><span class="o">&gt;</span> x<span class="p">[[</span><span class="m">2</span><span class="p">]]</span><span class="o">=</span><span class="m">2.0</span>
<span class="lineno"> 6 </span><span class="o">&gt;</span> x
<span class="lineno"> 7 </span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span>
<span class="lineno"> 8 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span><span class="p">[[</span><span class="m">2</span><span class="p">]]</span>
<span class="lineno">11 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span>
<span class="lineno">12 </span>
<span class="lineno">13 </span><span class="o">&gt;</span> <span class="kp">tracemem</span><span class="p">(</span>x<span class="p">)</span>
<span class="lineno">14 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;&lt;0x7f828fe497c8&gt;&quot;</span></code></pre></figure><p>list in R could be named and support accessing by name via either <code>[[]]</code> or <code>$</code> operator. But vector in R can also be named and support accessing by name.</p>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="o">=</span><span class="m">2</span><span class="p">)</span>
<span class="lineno"> 2 </span><span class="o">&gt;</span> <span class="kp">names</span><span class="p">(</span>x<span class="p">)</span>
<span class="lineno"> 3 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;a&quot;</span> <span class="s">&quot;b&quot;</span>
<span class="lineno"> 4 </span><span class="o">&gt;</span> x<span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span>
<span class="lineno"> 5 </span>b 
<span class="lineno"> 6 </span><span class="m">2</span> 
<span class="lineno"> 7 </span><span class="o">&gt;</span> l<span class="o">=</span><span class="kt">list</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="o">=</span><span class="m">1</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="o">=</span><span class="m">2</span><span class="p">)</span>
<span class="lineno"> 8 </span><span class="o">&gt;</span> l<span class="p">[[</span><span class="s">&#39;b&#39;</span><span class="p">]]</span>
<span class="lineno"> 9 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span>
<span class="lineno">10 </span><span class="o">&gt;</span> l<span class="o">$</span>b
<span class="lineno">11 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span>
<span class="lineno">12 </span><span class="o">&gt;</span> <span class="kp">names</span><span class="p">(</span>l<span class="p">)</span>
<span class="lineno">13 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="s">&quot;a&quot;</span> <span class="s">&quot;b&quot;</span></code></pre></figure><p>However, elements in list in Python can&#8217;t be named as R. If we need the feature of accessing by name in Python, we can use the dictionary structure. If you used Java before, you may consider dictionary in Python as the counterpart of HashMap in Java. Essentially, a dictionary in Python is a collection of key:value pairs.</p>
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span> <span class="c1"># {key:value} pairs</span>
<span class="lineno"> 2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno"> 3 </span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
<span class="lineno"> 4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="lineno"> 5 </span><span class="mi">1</span>
<span class="lineno"> 6 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="lineno"> 7 </span><span class="mi">2</span>
<span class="lineno"> 8 </span><span class="o">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="c1"># number of key:value pairs</span>
<span class="lineno"> 9 </span><span class="mi">2</span>
<span class="lineno">10 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="c1"># remove the key &#39;a&#39; and we get its value 1</span>
<span class="lineno">11 </span><span class="mi">1</span>
<span class="lineno">12 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno">13 </span><span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span></code></pre></figure><p>Unlike dictionary in Python, list in R doesn&#8217;t support the <code>pop()</code> operation. Thus, in order to modify a list in R, a new one would be created explicitly or implicitly.</p>
<h3>data.frame</h3>
<p>data.frame is a built-in type in R for data manipulation. In Python, there is no such built-in data structure since Python is a more general-purpose programming language. The solution for data.frame in Python is the <code>pandas</code><sup class="footnote" id="fnr7"><a href="#fn7">7</a></sup> module.</p>
<p>Before we dive into data.frame, you may be curious why we need it? In other words, why can&#8217;t we just use vector, list, array/matrix and dictionary for all data manipulation tasks? I would say yes &#8211; data.frame is not a must-have feature for most of <span class="caps">ETL</span> (extraction, transformation and Load) operations. But data.frame provides a very intuitive way for us to understand the structured data set. A data.frame is usually flat with 2 dimensions, i.e., row and column. The row dimension is across multiple observations and the column dimension is across multiple attributes/features. If you are familiar with relational database, a data.frame can be viewed as a table.</p>
<p>Let&#8217;s see an example of using data.frame to represent employees&#8217; information in a company.</p>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> employee_df <span class="o">=</span> <span class="kt">data.frame</span><span class="p">(</span>name<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">,</span> <span class="s">&quot;B&quot;</span><span class="p">,</span> <span class="s">&quot;C&quot;</span><span class="p">),</span>department<span class="o">=</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;Engineering&quot;</span><span class="p">,</span><span class="s">&quot;Operations&quot;</span><span class="p">,</span><span class="s">&quot;Sales&quot;</span><span class="p">))</span>
<span class="lineno">2 </span><span class="o">&gt;</span> employee_df
<span class="lineno">3 </span>  name  department
<span class="lineno">4 </span><span class="m">1</span>    A Engineering
<span class="lineno">5 </span><span class="m">2</span>    B  Operations
<span class="lineno">6 </span><span class="m">3</span>    C       Sales</code></pre></figure><language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="lineno">2 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">employee_df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="s1">&#39;C&#39;</span><span class="p">],</span><span class="s1">&#39;department&#39;</span><span class="p">:[</span><span class="s2">&quot;Engineering&quot;</span><span class="p">,</span><span class="s2">&quot;Operations&quot;</span><span class="p">,</span><span class="s2">&quot;Sales&quot;</span><span class="p">]})</span>
<span class="lineno">3 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">employee_df</span>
<span class="lineno">4 </span>  <span class="n">name</span>   <span class="n">department</span>
<span class="lineno">5 </span><span class="mi">0</span>    <span class="n">A</span>  <span class="n">Engineering</span>
<span class="lineno">6 </span><span class="mi">1</span>    <span class="n">B</span>   <span class="n">Operations</span>
<span class="lineno">7 </span><span class="mi">2</span>    <span class="n">C</span>        <span class="n">Sales</span></code></pre></figure><p>There are quite a few ways to create data.frame. The most commonly used one is to create data.frame object from array/matrix. We may also need to convert a numeric data.frame to an array/matrix.</p>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="kt">array</span><span class="p">(</span>rnorm<span class="p">(</span><span class="m">12</span><span class="p">),</span><span class="kt">c</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">))</span>
<span class="lineno"> 2 </span><span class="o">&gt;</span> x
<span class="lineno"> 3 </span>           <span class="p">[,</span><span class="m">1</span><span class="p">]</span>       <span class="p">[,</span><span class="m">2</span><span class="p">]</span>      <span class="p">[,</span><span class="m">3</span><span class="p">]</span>       <span class="p">[,</span><span class="m">4</span><span class="p">]</span>
<span class="lineno"> 4 </span><span class="p">[</span><span class="m">1</span><span class="p">,]</span> <span class="m">-0.8101246</span> <span class="m">-0.8594136</span> <span class="m">-2.260810</span>  <span class="m">0.5727590</span>
<span class="lineno"> 5 </span><span class="p">[</span><span class="m">2</span><span class="p">,]</span> <span class="m">-0.9175476</span>  <span class="m">0.1345982</span>  <span class="m">1.067628</span> <span class="m">-0.7643533</span>
<span class="lineno"> 6 </span><span class="p">[</span><span class="m">3</span><span class="p">,]</span>  <span class="m">0.7865971</span> <span class="m">-1.9046711</span> <span class="m">-0.154928</span> <span class="m">-0.6807527</span>
<span class="lineno"> 7 </span><span class="o">&gt;</span> random_df<span class="o">=</span><span class="kp">as.data.frame</span><span class="p">(</span>x<span class="p">)</span>
<span class="lineno"> 8 </span><span class="o">&gt;</span> random_df
<span class="lineno"> 9 </span>          V1         V2        V3         V4
<span class="lineno">10 </span><span class="m">1</span> <span class="m">-0.8101246</span> <span class="m">-0.8594136</span> <span class="m">-2.260810</span>  <span class="m">0.5727590</span>
<span class="lineno">11 </span><span class="m">2</span> <span class="m">-0.9175476</span>  <span class="m">0.1345982</span>  <span class="m">1.067628</span> <span class="m">-0.7643533</span>
<span class="lineno">12 </span><span class="m">3</span>  <span class="m">0.7865971</span> <span class="m">-1.9046711</span> <span class="m">-0.154928</span> <span class="m">-0.6807527</span>
<span class="lineno">13 </span><span class="o">&gt;</span> <span class="kp">data.matrix</span><span class="p">(</span>random_df<span class="p">)</span>
<span class="lineno">14 </span>             V1         V2        V3         V4
<span class="lineno">15 </span><span class="p">[</span><span class="m">1</span><span class="p">,]</span> <span class="m">-0.8101246</span> <span class="m">-0.8594136</span> <span class="m">-2.260810</span>  <span class="m">0.5727590</span>
<span class="lineno">16 </span><span class="p">[</span><span class="m">2</span><span class="p">,]</span> <span class="m">-0.9175476</span>  <span class="m">0.1345982</span>  <span class="m">1.067628</span> <span class="m">-0.7643533</span>
<span class="lineno">17 </span><span class="p">[</span><span class="m">3</span><span class="p">,]</span>  <span class="m">0.7865971</span> <span class="m">-1.9046711</span> <span class="m">-0.154928</span> <span class="m">-0.6807527</span></code></pre></figure><language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="lineno"> 2 </span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="lineno"> 3 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="lineno"> 4 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno"> 5 </span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">0.54164878</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.14285267</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.39835535</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.81522719</span><span class="p">],</span>
<span class="lineno"> 6 </span>       <span class="p">[</span> <span class="mf">0.01540508</span><span class="p">,</span>  <span class="mf">0.63556266</span><span class="p">,</span>  <span class="mf">0.16800583</span><span class="p">,</span>  <span class="mf">0.17594448</span><span class="p">],</span>
<span class="lineno"> 7 </span>       <span class="p">[</span><span class="o">-</span><span class="mf">1.21598262</span><span class="p">,</span>  <span class="mf">0.52860817</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.61757696</span><span class="p">,</span>  <span class="mf">0.18445057</span><span class="p">]])</span>
<span class="lineno"> 8 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">random_df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="lineno"> 9 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">random_df</span>
<span class="lineno">10 </span>          <span class="mi">0</span>         <span class="mi">1</span>         <span class="mi">2</span>         <span class="mi">3</span>
<span class="lineno">11 </span><span class="mi">0</span> <span class="o">-</span><span class="mf">0.541649</span> <span class="o">-</span><span class="mf">0.142853</span> <span class="o">-</span><span class="mf">0.398355</span> <span class="o">-</span><span class="mf">0.815227</span>
<span class="lineno">12 </span><span class="mi">1</span>  <span class="mf">0.015405</span>  <span class="mf">0.635563</span>  <span class="mf">0.168006</span>  <span class="mf">0.175944</span>
<span class="lineno">13 </span><span class="mi">2</span> <span class="o">-</span><span class="mf">1.215983</span>  <span class="mf">0.528608</span> <span class="o">-</span><span class="mf">0.617577</span>  <span class="mf">0.184451</span>
<span class="lineno">14 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">random_df</span><span class="p">)</span>
<span class="lineno">15 </span><span class="n">array</span><span class="p">([[</span><span class="o">-</span><span class="mf">0.54164878</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.14285267</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.39835535</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.81522719</span><span class="p">],</span>
<span class="lineno">16 </span>       <span class="p">[</span> <span class="mf">0.01540508</span><span class="p">,</span>  <span class="mf">0.63556266</span><span class="p">,</span>  <span class="mf">0.16800583</span><span class="p">,</span>  <span class="mf">0.17594448</span><span class="p">],</span>
<span class="lineno">17 </span>       <span class="p">[</span><span class="o">-</span><span class="mf">1.21598262</span><span class="p">,</span>  <span class="mf">0.52860817</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.61757696</span><span class="p">,</span>  <span class="mf">0.18445057</span><span class="p">]])</span></code></pre></figure><p>In general, operations on an array/matrix is much faster than that on a data frame. In R, we may use the built-in function <code>data.matrix</code> to convert a data.frame to an array/matrix. In Python, we could use the function <code>asarray</code> in <code>numpy</code> module.</p>
<p>Although data.frame is a built-in type, it is not quite efficient for many operations. I would suggest to use data.table<sup class="footnote" id="fnr8"><a href="#fn8">8</a></sup> whenever possible. dplyr<sup class="footnote" id="fnr9"><a href="#fn9">9</a></sup> is also a very popular package in R for data manipulation. Many good online resources are available online to learn data.table and pandas.</p>
<h2 id="oop">Object-oriented programming (<span class="caps">OOP</span>) in R/Python</h2>
<p>All the codes we wrote above follow the procedural programming paradigm<sup class="footnote" id="fnr10"><a href="#fn10">10</a></sup>. We can also do functional programming (FP) and <span class="caps">OOP</span> in R/Python. In this section, let&#8217;s focus on <span class="caps">OOP</span> in R/Python.</p>
<p>Class is the key concept in <span class="caps">OOP</span>. In R there are two commonly used built-in systems to define classes, i.e., S3 and S4. In addition, there is an external package R6<sup class="footnote" id="fnr11"><a href="#fn11">11</a></sup> which defines R6 classes. S3 is a light-weight system but its style is quite different from <span class="caps">OOP</span> in many other programming languages. S4 system follows the principles of modern object oriented programming much better than S3. However, the usage of S4 classes is quite tedious. I would ignore S3/S4 and introduce R6, which is more close to the class in Python.</p>
<p>Let&#8217;s build a class in R/Python to represent complex numbers.</p>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno"> 1 </span><span class="o">&gt;</span> <span class="kn">library</span><span class="p">(</span>R6<span class="p">)</span> <span class="c1"># load the R6 package</span>
<span class="lineno"> 2 </span><span class="o">&gt;</span> 
<span class="lineno"> 3 </span><span class="o">&gt;</span> Complex <span class="o">=</span> R6Class<span class="p">(</span><span class="s">&quot;Complex&quot;</span><span class="p">,</span> 
<span class="lineno"> 4 </span><span class="o">+</span> public <span class="o">=</span> <span class="kt">list</span><span class="p">(</span> <span class="c1"># only elements declared in this list are accessible by the object of this class</span>
<span class="lineno"> 5 </span><span class="o">+</span> real <span class="o">=</span> <span class="kc">NULL</span><span class="p">,</span>
<span class="lineno"> 6 </span><span class="o">+</span> imag <span class="o">=</span> <span class="kc">NULL</span><span class="p">,</span>
<span class="lineno"> 7 </span><span class="o">+</span> <span class="c1"># the initialize function would be called automatically when we create an object of the class </span>
<span class="lineno"> 8 </span><span class="o">+</span> initialize <span class="o">=</span> <span class="kr">function</span><span class="p">(</span>real<span class="p">,</span>imag<span class="p">){</span>
<span class="lineno"> 9 </span><span class="o">+</span>     <span class="c1"># call functions to change real and imag values</span>
<span class="lineno">10 </span><span class="o">+</span> 	self<span class="o">$</span>set_real<span class="p">(</span>real<span class="p">)</span>
<span class="lineno">11 </span><span class="o">+</span> 	self<span class="o">$</span>set_imag<span class="p">(</span>imag<span class="p">)</span>
<span class="lineno">12 </span><span class="o">+</span> <span class="p">},</span>
<span class="lineno">13 </span><span class="o">+</span> <span class="c1"># define a function to change the real value</span>
<span class="lineno">14 </span><span class="o">+</span> set_real <span class="o">=</span> <span class="kr">function</span><span class="p">(</span>real<span class="p">){</span>
<span class="lineno">15 </span><span class="o">+</span> 	self<span class="o">$</span>real<span class="o">=</span>real
<span class="lineno">16 </span><span class="o">+</span> <span class="p">},</span>
<span class="lineno">17 </span><span class="o">+</span> <span class="c1"># define a function to change the imag value</span>
<span class="lineno">18 </span><span class="o">+</span> set_imag <span class="o">=</span> <span class="kr">function</span><span class="p">(</span>imag<span class="p">){</span>
<span class="lineno">19 </span><span class="o">+</span> 	self<span class="o">$</span>imag<span class="o">=</span>imag
<span class="lineno">20 </span><span class="o">+</span> <span class="p">},</span>
<span class="lineno">21 </span><span class="o">+</span> <span class="c1"># override print function</span>
<span class="lineno">22 </span><span class="o">+</span> print <span class="o">=</span> <span class="kr">function</span><span class="p">(){</span>
<span class="lineno">23 </span><span class="o">+</span> 	<span class="kp">cat</span><span class="p">(</span><span class="kp">paste0</span><span class="p">(</span><span class="kp">as.character</span><span class="p">(</span>self<span class="o">$</span>real<span class="p">),</span><span class="s">&#39;+&#39;</span><span class="p">,</span><span class="kp">as.character</span><span class="p">(</span>self<span class="o">$</span>imag<span class="p">),</span><span class="s">&#39;j&#39;</span><span class="p">),</span><span class="s">&#39;\n&#39;</span><span class="p">)</span>
<span class="lineno">24 </span><span class="o">+</span> <span class="p">}</span>
<span class="lineno">25 </span><span class="o">+</span> <span class="p">)</span>
<span class="lineno">26 </span><span class="o">+</span> <span class="p">)</span>
<span class="lineno">27 </span><span class="o">&gt;</span> <span class="c1"># let&#39;s create a complex number object based on the Complex class we defined above using the new function</span>
<span class="lineno">28 </span><span class="o">&gt;</span> x <span class="o">=</span> Complex<span class="o">$</span>new<span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">)</span>
<span class="lineno">29 </span><span class="o">&gt;</span> x
<span class="lineno">30 </span><span class="m">1+2</span>j 
<span class="lineno">31 </span><span class="o">&gt;</span> x<span class="o">$</span>real <span class="c1"># the public attributes of x could be accessed by $ operator</span>
<span class="lineno">32 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span></code></pre></figure><language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">class</span> <span class="nc">Complex</span><span class="p">:</span>
<span class="lineno"> 2 </span><span class="o">...</span>   <span class="c1"># the __init__ function would be called automatically when we create an object of the class </span>
<span class="lineno"> 3 </span><span class="o">...</span>   <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">real</span><span class="p">,</span><span class="n">imag</span><span class="p">):</span>
<span class="lineno"> 4 </span><span class="o">...</span>     <span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">=</span> <span class="kc">None</span>
<span class="lineno"> 5 </span><span class="o">...</span>     <span class="bp">self</span><span class="o">.</span><span class="n">imag</span> <span class="o">=</span> <span class="kc">None</span>
<span class="lineno"> 6 </span><span class="o">...</span>     <span class="bp">self</span><span class="o">.</span><span class="n">set_real</span><span class="p">(</span><span class="n">real</span><span class="p">)</span>
<span class="lineno"> 7 </span><span class="o">...</span>     <span class="bp">self</span><span class="o">.</span><span class="n">set_imag</span><span class="p">(</span><span class="n">imag</span><span class="p">)</span>
<span class="lineno"> 8 </span><span class="o">...</span>   <span class="c1"># define a function to change the real value</span>
<span class="lineno"> 9 </span><span class="o">...</span>   <span class="k">def</span> <span class="nf">set_real</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">real</span><span class="p">):</span>
<span class="lineno">10 </span><span class="o">...</span>     <span class="bp">self</span><span class="o">.</span><span class="n">real</span><span class="o">=</span><span class="n">real</span>
<span class="lineno">11 </span><span class="o">...</span>   <span class="c1"># define a function to change the imag value</span>
<span class="lineno">12 </span><span class="o">...</span>   <span class="k">def</span> <span class="nf">set_imag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">imag</span><span class="p">):</span>
<span class="lineno">13 </span><span class="o">...</span>     <span class="bp">self</span><span class="o">.</span><span class="n">imag</span><span class="o">=</span><span class="n">imag</span>
<span class="lineno">14 </span><span class="o">...</span>   <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno">15 </span><span class="o">...</span>     <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">+</span><span class="si">{1}</span><span class="s2">j&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">real</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">imag</span><span class="p">)</span>
<span class="lineno">16 </span><span class="o">...</span> 
<span class="lineno">17 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">Complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="lineno">18 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span>
<span class="lineno">19 </span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="n">j</span>
<span class="lineno">20 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">.</span><span class="n">real</span> <span class="c1"># different from the $ operator in R, here we use . to access the attribute of an object</span>
<span class="lineno">21 </span><span class="mi">1</span></code></pre></figure><p>By overriding the print function in the R6 class, we can have the object printed in the format of <code>real+imag j</code>. To achieve the same effect in Python, we override the method <code>__repr__</code>. In Python, we call the functions defined in classes as methods. And overriding a method means changing the implementation of a method provided by one of its ancestors. To understand the concept of ancestors in <span class="caps">OOP</span>, one needs to understand the concept of inheritance<sup class="footnote" id="fnr12"><a href="#fn12">12</a></sup>.</p>
<p>You may be curious of the double underscore surrounding the methods, such as <code>__init__</code> and <code>__repr__</code>. These methods are well-known as magic methods<sup class="footnote" id="fnr13"><a href="#fn13">13</a></sup>. Magic methods could be very handy if we use them in the suitable cases. For example, we can use the magic method <code>__add__</code> to implement the <code>+</code> operator for the <code>Complex</code> class we defined above.</p>
<p>In the definition of the magic method <code>__repr__</code> in the Python code, the <code>format</code> method of <code>str</code> object<sup class="footnote" id="fnr14"><a href="#fn14">14</a></sup> is used.</p>
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="k">class</span> <span class="nc">Complex</span><span class="p">:</span>
<span class="lineno"> 2 </span><span class="o">...</span>   <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">real</span><span class="p">,</span><span class="n">imag</span><span class="p">):</span>
<span class="lineno"> 3 </span><span class="o">...</span>     <span class="bp">self</span><span class="o">.</span><span class="n">real</span> <span class="o">=</span> <span class="kc">None</span>
<span class="lineno"> 4 </span><span class="o">...</span>     <span class="bp">self</span><span class="o">.</span><span class="n">imag</span> <span class="o">=</span> <span class="kc">None</span>
<span class="lineno"> 5 </span><span class="o">...</span>     <span class="bp">self</span><span class="o">.</span><span class="n">set_real</span><span class="p">(</span><span class="n">real</span><span class="p">)</span>
<span class="lineno"> 6 </span><span class="o">...</span>     <span class="bp">self</span><span class="o">.</span><span class="n">set_imag</span><span class="p">(</span><span class="n">imag</span><span class="p">)</span>
<span class="lineno"> 7 </span><span class="o">...</span>   <span class="k">def</span> <span class="nf">set_real</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">real</span><span class="p">):</span>
<span class="lineno"> 8 </span><span class="o">...</span>     <span class="bp">self</span><span class="o">.</span><span class="n">real</span><span class="o">=</span><span class="n">real</span>
<span class="lineno"> 9 </span><span class="o">...</span>   <span class="k">def</span> <span class="nf">set_imag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">imag</span><span class="p">):</span>
<span class="lineno">10 </span><span class="o">...</span>     <span class="bp">self</span><span class="o">.</span><span class="n">imag</span><span class="o">=</span><span class="n">imag</span>
<span class="lineno">11 </span><span class="o">...</span>   <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno">12 </span><span class="o">...</span>     <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">+</span><span class="si">{1}</span><span class="s2">j&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">real</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">imag</span><span class="p">)</span>
<span class="lineno">13 </span><span class="o">...</span>   <span class="k">def</span> <span class="nf">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">another</span><span class="p">):</span>
<span class="lineno">14 </span><span class="o">...</span>     <span class="k">return</span> <span class="n">Complex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">real</span><span class="o">+</span><span class="n">another</span><span class="o">.</span><span class="n">real</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">imag</span><span class="o">+</span><span class="n">another</span><span class="o">.</span><span class="n">imag</span><span class="p">)</span>
<span class="lineno">15 </span><span class="o">...</span> 
<span class="lineno">16 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">=</span><span class="n">Complex</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="lineno">17 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">y</span><span class="o">=</span><span class="n">Complex</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="lineno">18 </span><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span> <span class="c1"># + operator works now</span>
<span class="lineno">19 </span><span class="mi">3</span><span class="o">+</span><span class="mi">6</span><span class="n">j</span></code></pre></figure><p>We can also implement the <code>+</code> operator for <code>Complex</code> class in R like what we have done for Python.</p>
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span>  <span class="sb">`+.Complex`</span> <span class="o">=</span> <span class="kr">function</span><span class="p">(</span>x<span class="p">,</span>y<span class="p">){</span>
<span class="lineno">2 </span><span class="o">+</span>   Complex<span class="o">$</span>new<span class="p">(</span>x<span class="o">$</span>real<span class="o">+</span>y<span class="o">$</span>real<span class="p">,</span>x<span class="o">$</span>imag<span class="o">+</span>y<span class="o">$</span>imag<span class="p">)</span>
<span class="lineno">3 </span><span class="o">+</span> <span class="p">}</span>
<span class="lineno">4 </span><span class="o">&gt;</span> x<span class="o">=</span>Complex<span class="o">$</span>new<span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">)</span>
<span class="lineno">5 </span><span class="o">&gt;</span> y<span class="o">=</span>Complex<span class="o">$</span>new<span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">4</span><span class="p">)</span>
<span class="lineno">6 </span><span class="o">&gt;</span> x<span class="o">+</span>y
<span class="lineno">7 </span><span class="m">3+6</span>j</code></pre></figure><p>The most interesting part of the code above is <code>`+.Complex`</code>. First, why do we use <code>``</code> to quote the function name? Before getting into this question, let&#8217;s have a look at the Python 3&#8217;s variable naming rules<sup class="footnote" id="fnr15"><a href="#fn15">15</a></sup>.</p>
<blockquote class="blockquote">
<p class="mb-0">
Within the <span class="caps">ASCII</span> range (U+0001..U+007F), the valid characters for identifiers (also referred to as names) are the same as in Python 2.x: the uppercase and lowercase letters A through Z, the underscore _ and, except for the first character, the digits 0 through 9.
</p>
</blockquote>
<p>According to the rule, we can&#8217;t declare a variable with name <code>2x</code>. Compared with Python, in R we can also use <code>.</code> in the variable names<sup class="footnote" id="fnr16"><a href="#fn16">16</a></sup>. However, there is a workaround to use invalid variable names in R with the help of <code>``</code>.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> <span class="m">2</span>x <span class="o">=</span> <span class="m">5</span>
<span class="lineno">2 </span>Error<span class="o">:</span> unexpected symbol <span class="kr">in</span> <span class="s">&quot;2x&quot;</span>
<span class="lineno">3 </span><span class="o">&gt;</span> <span class="m">.</span>x <span class="o">=</span> <span class="m">3</span>
<span class="lineno">4 </span><span class="o">&gt;</span> <span class="m">.</span>x
<span class="lineno">5 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">3</span>
<span class="lineno">6 </span><span class="o">&gt;</span> <span class="sb">`+2x%`</span> <span class="o">=</span> <span class="m">0</span>
<span class="lineno">7 </span><span class="o">&gt;</span> <span class="sb">`+2x%`</span>
<span class="lineno">8 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">0</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno"> 1 </span><span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="lineno"> 2 </span>  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span>
<span class="lineno"> 3 </span>    <span class="mi">2</span><span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="lineno"> 4 </span>     <span class="o">^</span>
<span class="lineno"> 5 </span><span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">syntax</span>
<span class="lineno"> 6 </span><span class="o">&gt;&gt;&gt;</span> <span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="lineno"> 7 </span>  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span>
<span class="lineno"> 8 </span>    <span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="lineno"> 9 </span>    <span class="o">^</span>
<span class="lineno">10 </span><span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">syntax</span></code></pre></figure></div>
</div>
<p>Now it is clear the usage of <code>``</code> in <code>`+.Complex`</code> is to define a function with invalid name. Placing <code>.Complex</code> after <code>+</code> is related to S3 method dispatching which would not be discussed here.</p>
<h2 id="miscellaneous">Miscellaneous</h2>
<p>There are some items that I haven&#8217;t discussed so far, which are also important in order to master R/Python.</p>
<h3>Package/module installation</h3>
<ul>
	<li>Use <code>install.packages()</code> function in R</li>
	<li>Use R <span class="caps">IDE</span> to install packages</li>
	<li>Use <code>pip</code><sup class="footnote" id="fnr17"><a href="#fn17">17</a></sup> to install modules in Python</li>
</ul>
<h3>Virtual environment</h3>
<p>Virtual environment is a tool to mange dependencies in Python. There are different ways to create virtual environments in Python. But I suggest to use the <code>venv</code> module shipped with Python 3. Unfortunately, there is nothing like a real virtual environment in R as far as I know although there quite a few of packages management tools/packages.</p>
<h3>&lt;- vs. =</h3>
<p>If you have known R before, you probably heard of the advice<sup class="footnote" id="fnr18"><a href="#fn18">18</a></sup> to use <code>&lt;-</code> to rather than <code>=</code> for value assignment. However, I always use <code>=</code> for value assignment. Let&#8217;s see an example when <code>&lt;-</code> makes a difference when we do value assignment.</p>
<div class="codewrapper">
<div class="codeleft">
<language>R</language>
<figure class="highlight"><pre><code class="language-r" data-lang="r"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> x<span class="o">=</span><span class="m">1</span>
<span class="lineno">2 </span><span class="o">&gt;</span> a<span class="o">=</span><span class="kt">list</span><span class="p">(</span>x <span class="o">&lt;-</span> <span class="m">2</span><span class="p">)</span>
<span class="lineno">3 </span><span class="o">&gt;</span> a
<span class="lineno">4 </span><span class="p">[[</span><span class="m">1</span><span class="p">]]</span>
<span class="lineno">5 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span>
<span class="lineno">6 </span>
<span class="lineno">7 </span><span class="o">&gt;</span> x
<span class="lineno">8 </span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">2</span></code></pre></figure></div>
<div class="coderight">
<language>Python</language>
<figure class="highlight"><pre><code class="language-python3" data-lang="python3"><span></span><span class="lineno">1 </span><span class="o">&gt;</span> <span class="n">x</span><span class="o">=</span><span class="mi">1</span>
<span class="lineno">2 </span><span class="o">&gt;</span> <span class="n">a</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
<span class="lineno">3 </span><span class="o">&gt;</span> <span class="n">a</span>
<span class="lineno">4 </span><span class="err">$</span><span class="n">x</span>
<span class="lineno">5 </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mi">2</span>
<span class="lineno">6 </span>
<span class="lineno">7 </span><span class="o">&gt;</span> <span class="n">x</span>
<span class="lineno">8 </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="mi">1</span></code></pre></figure></div>
</div>
<p>When the assignment is made inside an argument of a function call, <code>&lt;-</code> and <code>=</code> have different effects. But it is not recommended to use <code>&lt;-</code> inside an argument of a function call.</p>
<hr />
<p style="vertical-align:middle;" class="footnote" id="fn1"><a href="#fnr1"><sup>1</sup></a> https://www.r-project.org</p>
<p class="footnote" id="fn2"><a href="#fnr2"><sup>2</sup></a> https://www.python.org</p>
<p class="footnote" id="fn3"><a href="#fnr3"><sup>3</sup></a> https://docs.python.org/3/tutorial/modules.html</p>
<p class="footnote" id="fn4"><a href="#fnr4"><sup>4</sup></a> https://cran.r-project.org/doc/manuals/r-devel/<span class="caps">NEWS</span>.html</p>
<p class="footnote" id="fn5"><a href="#fnr5"><sup>5</sup></a> https://docs.python.org/3/tutorial/datastructures.html</p>
<p class="footnote" id="fn6"><a href="#fnr6"><sup>6</sup></a> http://www.numpy.org</p>
<p class="footnote" id="fn7"><a href="#fnr7"><sup>7</sup></a> https://pandas.pydata.org/</p>
<p class="footnote" id="fn8"><a href="#fnr8"><sup>8</sup></a> https://cran.r-project.org/web/packages/data.table/index.html</p>
<p class="footnote" id="fn9"><a href="#fnr9"><sup>9</sup></a> https://dplyr.tidyverse.org</p>
<p class="footnote" id="fn10"><a href="#fnr10"><sup>10</sup></a> https://en.wikipedia.org/wiki/Comparison_of_programming_paradigms</p>
<p class="footnote" id="fn11"><a href="#fnr11"><sup>11</sup></a> https://cran.r-project.org/web/packages/R6/index.html</p>
<p class="footnote" id="fn12"><a href="#fnr12"><sup>12</sup></a> https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)</p>
<p class="footnote" id="fn13"><a href="#fnr13"><sup>13</sup></a> https://rszalski.github.io/magicmethods</p>
<p class="footnote" id="fn14"><a href="#fnr14"><sup>14</sup></a> https://docs.python.org/3.7/library/string.html</p>
<p class="footnote" id="fn15"><a href="#fnr15"><sup>15</sup></a> https://docs.python.org/3.3/reference/lexical_analysis.html</p>
<p class="footnote" id="fn16"><a href="#fnr16"><sup>16</sup></a> https://cran.r-project.org/doc/manuals/r-release/R-lang.html\#Identifiers</p>
<p class="footnote" id="fn17"><a href="#fnr17"><sup>17</sup></a> https://packaging.python.org/tutorials/installing-packages</p>
<p class="footnote" id="fn18"><a href="#fnr18"><sup>18</sup></a> https://google.github.io/styleguide/Rguide.xml</p>
    </div> <!-- /container-fluid -->
    <!-- Footer -->
<div id="footer">
  <div class="inner">
    <div class="container-fluid">
      <div class="row">
        <div class="span16">
          <p>
              &copy; 2019 All rights reserved
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

    
  </body>
</html>
